{% extends "layout.html" %}
{% block stylesheet %}
<link rel="stylesheet" href="/static/index.css">
{% endblock %}
{% block content %}

<h1>Lappupeli</h1>
<div class="table-container">
    <table>
        <tbody>
            <tr>
                <td>Sanojen määrä</td>
                <td>{{words | length}}</td>
            </tr>
            <tr>
                <td>Lapun lukeneet</td>
                <td>{{seen_count}}</td>
            </tr>
            <tr>
                <td>Pelaajien määrä</td>
                <td>{{config.players}}</td>
            </tr>
            <tr>
                <td>Edellinen sana</td>
                {% if config.previous_word %}
                <td>{{config.previous_word}}</td>
                {% else %}
                <td></td>
                {% endif %}
            </tr>
        </tbody>
    </table>
</div>
<form action="/">
    <input type="submit" value="Päivitä sivu" />
</form>

<form action="/word">
    {% if no_words %}
    <input type="submit" disabled value="Peliä ei ole vielä aloitettu" />
    {% elif new %}
    <input type="submit" value="Katso uusi lappu" />
    {% else %}
    <input type="submit" value="Katso lappusi uudestaan" />
    {% endif %}
</form>

<br />
<form method="post">
    <label for="word">Lisää sana:</label>
    <br />
    <input id="word" type="text" name="word" placeholder="Sana" />
    <input type="submit" value="Lisää" />
</form>
<br />

{% if session.uuid != config.admin_uuid %}
<form method="post">
    <input name="be_admin" type="submit" value="Ole GM" />
</form>
{% else %}
<!-- Admin area -->
<h2 style="margin-bottom: 10px; margin-top: 5px">GMAlue</h2>

<form method="post">
    {% if session.confirm_next_word %}
    <p style="margin-bottom:0px">Kaikki eivät ole vielä lukeneet lappujaan, haluatko silti seuraavan sanan?</p>
    {% endif %}

    {% if words | length > 0 %}
    <input type="submit" name="next_word" value="Seuraava sana" />
    {% else %}
    <input type="submit" name="next_word" value="Seuraava sana" disabled />
    {% endif %}

    {% if session.confirm_next_word %}
    <input type="submit" name="cancel" value="Peruuta" />
    {% endif %}
</form>

<br />
<form method="post">
    <label for="players">Pelaajien määrä:</label>
    <br />
    <input id="players" type="number" name="players" value="{{config.players}}" placeholder="Pelaajien määrä" />
    <input type="submit" value="Muuta" />
</form>
<br />

<form method="post">
    <input name="unbe_admin" type="submit" value="Älä ole GM" />

    <br />
    {% if session.confirm_clear %}
    <p style="margin-bottom:0px">Haluatko varmasti poistaa kaikki sanat?</p>
    {% endif %}
    <input id="clear" type="submit" name="clear" class="red" value="POISTA KAIKKI SANAT" {% if no_words and words |
        length==0 %} disabled {% endif %} />
    {% if session.confirm_clear %}
    <input type="submit" name="cancel" value="Peruuta" />
    {% endif %}
</form>
{% endif %}

{% endblock %}